{
  "info": {
    "name": "Chat App API",
    "_postman_id": "b2f27b6d-0000-0000-0000-collection",
    "description": "Collection dùng để test nhanh các API đăng ký, đăng nhập, hội thoại và nhắn tin.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Đăng ký",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"alice\",\n  \"email\": \"alice@example.com\",\n  \"password\": \"secret123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Đăng nhập",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emailOrUsername\": \"alice\",\n  \"password\": \"secret123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Conversations",
      "item": [
        {
          "name": "Danh sách hội thoại",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/conversations",
              "host": ["{{baseUrl}}"],
              "path": ["api", "conversations"]
            }
          },
          "response": []
        },
        {
          "name": "Tạo hội thoại 1-1",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"friendId\": \"{{friendId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/conversations/direct",
              "host": ["{{baseUrl}}"],
              "path": ["api", "conversations", "direct"]
            }
          },
          "response": []
        },
        {
          "name": "Tạo nhóm",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Lớp 12A\",\n  \"memberIds\": [\"{{friendId}}\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/conversations/group",
              "host": ["{{baseUrl}}"],
              "path": ["api", "conversations", "group"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Messages",
      "item": [
        {
          "name": "Danh sách theo hội thoại",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/messages?conversationId={{conversationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "messages"],
              "query": [
                { "key": "conversationId", "value": "{{conversationId}}" }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Gửi tin",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"conversationId\": \"{{conversationId}}\",\n  \"content\": \"Xin chào mọi người!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/messages",
              "host": ["{{baseUrl}}"],
              "path": ["api", "messages"]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [],
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:5000" },
    { "key": "token", "value": "" },
    { "key": "friendId", "value": "" },
    { "key": "conversationId", "value": "" }
  ]
}


